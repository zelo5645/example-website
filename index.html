<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø£Ù†Ø§ Ø§ØªØ¨Ø¶Ù†Øª â€“ Ø¨Ø§Ø±ÙƒÙˆØ± Ø¯ÙŠÙ†Ùˆ</title>
  <style>
    body{margin:0;overflow:hidden;background:linear-gradient(to bottom,#a3c9ff 0%,#e8f3ff 60%,#ffffff 100%);font-family:'Cairo',sans-serif;color:#333;}
    canvas{display:block;width:100vw;height:100vh;}
    #overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(255,255,255,0.7);backdrop-filter:blur(8px);}
    button{font-size:1.2rem;padding:10px 20px;border:none;border-radius:10px;background:#007bff;color:white;cursor:pointer;}
    button:hover{background:#0056b3;}
  </style>
</head>
<body>
  <canvas id="game"></canvas>
  <div id="overlay">
    <h1>ğŸƒâ€â™‚ï¸ Ù„Ø¹Ø¨Ø© Ø£Ù†Ø§ Ø§ØªØ¨Ø¶Ù†Øª</h1>
    <p>Ø§Ø¶ØºØ· Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨ØŒ ÙˆØ§Ù‚ÙØ² Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„Ø¹Ù‚Ø¨Ø§Øª.</p>
    <button id="startBtn">Ø§Ø¨Ø¯Ø£</button>
  </div>

  <script>
    const canvas=document.getElementById('game');
    const ctx=canvas.getContext('2d');
    canvas.width=window.innerWidth;canvas.height=window.innerHeight;

    const groundHeight=80;
    let player={x:100,y:canvas.height-groundHeight-60,w:60,h:60,vy:0,onGround:true,angle:0,dead:false};
    let gravity=1.5,speed=6,obstacles=[],gameOver=false,score=0;

    const face=new Image();
    face.src='https://i.ibb.co/dwTZjPhN/Whats-App-Image-2025-10-20-at-16-49-55-fcee5338.jpg';

    // Ù…ÙˆØ³ÙŠÙ‚Ù‰ Base64 (Demon Slayer)
    const audioData="data:audio/mp3;base64,SUQzBAAAAAABAFRYWFgAAAASAAADbWFqb3JfYnJhbmQAZGFzaABUWFhYAAAAEQAAA21pbm9yX3ZlcnNpb24AMABUWFhYAAAAHAAAA2NvbXBhdGlibGVfYnJhbmRzAGlzbzZtcDQxAFRTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAA";
    const music=new Audio(audioData);music.loop=true;music.volume=0.35;

    function reset(){obstacles=[];player.y=canvas.height-groundHeight-60;player.vy=0;player.onGround=true;player.dead=false;player.angle=0;gameOver=false;score=0;}

    function jump(){if(player.onGround&&!player.dead){player.vy=-22;player.onGround=false;}}

    function spawnObstacle(){if(Math.random()<0.02){const h=40+Math.random()*30;obstacles.push({x:canvas.width,y:canvas.height-groundHeight-h,w:30+Math.random()*30,h:h});}}

    function update(){
      if(gameOver)return;
      player.vy+=gravity;player.y+=player.vy;
      if(player.y+player.h>=canvas.height-groundHeight){player.y=canvas.height-groundHeight-player.h;player.vy=0;player.onGround=true;}
      obstacles.forEach(o=>o.x-=speed);
      obstacles=obstacles.filter(o=>o.x+o.w>0);
      spawnObstacle();

      // ØªØµØ§Ø¯Ù…
      obstacles.forEach(o=>{
        if(player.x<o.x+o.w && player.x+player.w>o.x && player.y<o.y+o.h && player.y+player.h>o.y){
          player.dead=true;player.vy=-10;player.angle=0;music.pause();
          setTimeout(()=>alert('Ø£Ù†Ø§ Ø§ØªØ¨Ø¶Ù†Øª!'),400);
          gameOver=true;
        }
      });
      if(player.dead){player.angle+=0.2;}
      score+=0.1;
    }

    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      // Ø®Ù„ÙÙŠØ© Ø§Ù„Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„Ø·Ø±ÙŠÙ‚
      const grd=ctx.createLinearGradient(0,0,0,canvas.height);
      grd.addColorStop(0,'#b7d3f2');grd.addColorStop(1,'#f1f5fa');
      ctx.fillStyle=grd;ctx.fillRect(0,0,canvas.width,canvas.height);

      ctx.fillStyle='#e0e0e0';ctx.fillRect(0,canvas.height-groundHeight,canvas.width,groundHeight);
      ctx.fillStyle='rgba(0,0,0,0.1)';ctx.fillRect(0,canvas.height-groundHeight,canvas.width,6);

      // Ø´Ø®ØµÙŠØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ (ØªØ¯ÙˆØ± Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØª)
      ctx.save();
      ctx.translate(player.x+player.w/2,player.y+player.h/2);
      ctx.rotate(player.angle);
      ctx.beginPath();ctx.arc(0,0,player.w/2,0,Math.PI*2);ctx.closePath();ctx.clip();
      ctx.drawImage(face,-player.w/2,-player.h/2,player.w,player.h);
      ctx.restore();

      // Ø§Ù„Ø¹Ù‚Ø¨Ø§Øª
      ctx.fillStyle='#555';obstacles.forEach(o=>ctx.fillRect(o.x,o.y,o.w,o.h));

      // Ù†Ù‚Ø§Ø·
      ctx.fillStyle='#333';ctx.font='20px Cairo';ctx.fillText('Ø§Ù„Ù…Ø³Ø§ÙØ©: '+Math.floor(score)+' Ù…',20,40);
    }

    function loop(){update();draw();requestAnimationFrame(loop);}

    document.addEventListener('keydown',e=>{if(e.code==='Space')jump();});
    canvas.addEventListener('click',jump);

    document.getElementById('startBtn').onclick=()=>{
      document.getElementById('overlay').style.display='none';
      reset();music.currentTime=0;music.play();
    };

    loop();
  </script>
</body>
</html>
